var hpainter=null;function ResetUI(){if(hpainter){hpainter.clear(true)}}function guiLayout(){var b="collapsible";var a=document.getElementById("layout");if(a){b=a.options[a.selectedIndex].text}return b}function setGuiLayout(d){var b=document.getElementById("layout");if(!b){return}for(var a in b.options){var c=b.options[a].text;if(typeof c=="undefined"){continue}if((c==d)||(c.replace(/ /g,"")==d)){b.selectedIndex=a;break}}}function ReadFile(){var b=navigator.appVersion;if(typeof ActiveXObject=="function"){if((b.indexOf("MSIE 8")!=-1)||(b.indexOf("MSIE 7")!=-1)){alert("You need at least MS Internet Explorer version 9.0. Note you can also use any other web browser");return}}else{if((b.indexOf("Windows NT")==-1)&&(b.indexOf("Safari")!=-1)&&(b.indexOf("Version/5.1.7")!=-1)){alert("There are know issues with Safari 5.1.7 on MacOS X. It may become unresponsive or even hangs. You can use any other web browser");return}}var a=$("#urlToLoad").val();a.trim();if(a.length==0){return}if(hpainter==null){alert("Hierarchy painter not initialized")}else{hpainter.OpenRootFile(a)}}function BuildSimpleGUI(){if(JSROOT.GetUrlOption("nobrowser")!=null){return JSROOT.BuildNobrowserGUI()}var b=$("#simpleGUI");var f=false;if(b.length==0){b=$("#onlineGUI");if(b.length==0){return alert("no div for simple gui found")}f=true}JSROOT.Painter.readStyleFromURL();var c="<div id='left-div' class='column' style='top:1px; bottom:1px'>";if(f){c+="<h1><font face=\"Verdana\" size=\"4\">ROOT online server</font></h1><p><font face='Verdana' size='1px'><a href='http://root.cern.ch/js/jsroot.html'>JSROOT</a> version <span style='color:green'><b>"+JSROOT.version+'</b></span></font></p><p> Hierarchy in <a href="h.json">json</a> and <a href="h.xml">xml</a> format</p> <input type="checkbox" name="monitoring" id="monitoring"/> Monitoring  <select style="padding:2px; margin-left:10px; margin-top:5px;" id="layout">   <option>simple</option><option>collapsible</option><option>grid 2x2</option><option>grid 3x3</option><option>grid 4x4</option><option>tabs</option> </select>'}else{var a=b.attr("files");var j=JSROOT.GetUrlOption("path");if(j==null){j=b.attr("path")}if(j==null){j=""}if(a==null){a="../files/hsimple.root"}var d=a.split(";");c+="<h1><font face='Verdana' size='4'>Read a ROOT file</font></h1><p><font face='Verdana' size='1px'><a href='http://root.cern.ch/js/'>JSROOT</a> version <span style='color:green'><b>"+JSROOT.version+"</b></span></font></p>";if(JSROOT.GetUrlOption("noselect")==null){c+='<form name="ex"><input type="text" name="state" value="" style="width:95%; margin-top:5px;" id="urlToLoad"/><select name="s" style="width:65%; margin-top:5px;" onchange="document.ex.state.value = document.ex.s.options[document.ex.s.selectedIndex].value;document.ex.s.selectedIndex=0;document.ex.s.value=\'\'"><option value=" " selected="selected">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>';for(var e in d){c+='<option value = "'+j+d[e]+'">'+d[e]+"</option>"}c+='</select><br/><p><small>Other file URLs might not work because of <a href="http://en.wikipedia.org/wiki/Same-origin_policy">same-origin security policy</a>, see e.g. <a href="https://developer.mozilla.org/en/http_access_control">developer.mozilla.org</a> on how to avoid it.</small></p><input style="padding:2px; margin-top:5px;"       onclick="ReadFile()" type="button" title="Read the Selected File" value="Load"/><input style="padding:2px; margin-left:10px;"       onclick="ResetUI()" type="button" title="Clear All" value="Reset"/><select style="padding:2px; margin-left:10px; margin-top:5px;" title="layout kind" id="layout">  <option>simple</option><option>collapsible</option><option>grid 2x2</option><option>grid 3x3</option><option>grid 4x4</option><option>tabs</option></select><br/></form>'}}c+='<div id="browser"></div></div><div id="separator-div" style="top:1px; bottom:1px"></div><div id="right-div" class="column" style="top:1px; bottom:1px"></div>';var g="right-div";b.empty().append(c);var h=null;if(f){if(typeof GetCachedHierarchy=="function"){h=GetCachedHierarchy()}if(typeof h!="object"){h=""}}hpainter=new JSROOT.HierarchyPainter("root","browser");hpainter.SetDisplay(guiLayout(),g);JSROOT.Painter.ConfigureVSeparator(hpainter);hpainter.StartGUI(h,function(){setGuiLayout(hpainter.GetLayout());$("#layout").change(function(){if(hpainter){hpainter.SetDisplay(guiLayout(),g)}});if(f){$("#monitoring").prop("checked",hpainter.IsMonitoring()).click(function(){hpainter.EnableMonitoring(this.checked);if(this.checked){hpainter.updateAll()}})}else{var i="";hpainter.ForEachRootFile(function(k){if(i==""){i=k._fullurl}});$("#urlToLoad").val(i)}})};